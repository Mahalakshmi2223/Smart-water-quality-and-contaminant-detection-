// AquaSense: Water Quality Monitoring System

int pHSensor = A0;
int turbiditySensor = A1;
int tdsSensor = A2;
int buzzer = 8;

// Threshold values (adjust experimentally)
float pHMin = 6.5;
float pHMax = 8.5;
int turbidityMax = 5;  // NTU
int tdsMax = 500;      // ppm

void setup() {
  Serial.begin(9600);
  pinMode(buzzer, OUTPUT);
  digitalWrite(buzzer, LOW);
}

void loop() {
  // Read sensors
  int pHValueRaw = analogRead(pHSensor);
  int turbidityRaw = analogRead(turbiditySensor);
  int tdsRaw = analogRead(tdsSensor);

  // Convert raw values to real units
  float pHValue = (pHValueRaw * 14.0) / 1023.0; // assuming 0-14 scale
  int turbidity = map(turbidityRaw, 0, 1023, 0, 10); // NTU approx
  int tds = map(tdsRaw, 0, 1023, 0, 1000); // ppm approx

  Serial.print("pH: "); Serial.print(pHValue);
  Serial.print(" | Turbidity: "); Serial.print(turbidity);
  Serial.print(" | TDS: "); Serial.println(tds);

  // Check thresholds
  if (pHValue < pHMin || pHValue > pHMax || turbidity > turbidityMax || tds > tdsMax) {
    digitalWrite(buzzer, HIGH);  // Unsafe water â†’ alert
    Serial.println("ALERT! Water quality unsafe.");
  } else {
    digitalWrite(buzzer, LOW);   // Safe water
    Serial.println("Water quality normal.");
  }

  delay(2000);
}
